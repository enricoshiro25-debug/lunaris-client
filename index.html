<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Scuola di Magia Lunaris</title>

<style>
body {
  background: #000;
  color: #fff;
  font-family: Arial, sans-serif;
  text-align: center;
  margin: 0;
}

h1 {
  margin-top: 20px;
}

/* CONTENITORE */
#container {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin-top: 30px;
  flex-wrap: wrap;
}

/* AVATAR */
#avatar-box {
  width: 128px;
  height: 128px;
  position: relative;
  background: #111;
  border: 2px solid #666;
}

.avatar-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 128px;
  height: 128px;
  image-rendering: pixelated;
}

/* MENU */
.panel {
  background: #111;
  padding: 15px;
  border: 2px solid #555;
  width: 220px;
}

select, input, button {
  width: 100%;
  margin-bottom: 8px;
  padding: 5px;
}

button {
  cursor: pointer;
}
</style>
</head>

<body>

<h1>✨ Scuola di Magia Lunaris ✨</h1>

<div id="container">

  <!-- LOGIN / REGISTER -->
  <div class="panel">
    <h3>Account</h3>
    <input type="text" id="username" placeholder="Nome utente">
    <input type="password" id="password" placeholder="Password">
    <button onclick="register()">Registrati</button>
    <button onclick="login()">Login</button>
    <p id="msg"></p>
  </div>

  <!-- AVATAR -->
  <div>
    <div id="avatar-box">
     <img id="clothes" class="avatar-layer" src="images/clothes/robe1.png">
<img id="face" class="avatar-layer" src="images/base/face1.png">
<img id="hair" class="avatar-layer" src="images/hair/hair1.png">
<img id="accessories" class="avatar-layer" src="">
    </div>
  </div>

  <!-- CREAZIONE PG -->
  <div class="panel">
    <h3>Crea il tuo PG</h3>

    <label>Viso</label>
    <select onchange="setAvatar('face', this.value)">
      <option value="images/base/face1.png">Viso 1</option>
      <option value="images/base/face2.png">Viso 2</option>
    </select>

    <label>Capelli</label>
    <select onchange="setAvatar('hair', this.value)">
      <option value="images/hair/hair1.png">Capelli 1</option>
      <option value="images/hair/hair2.png">Capelli 2</option>
    </select>

    <label>Vestiti</label>
    <select onchange="setAvatar('clothes', this.value)">
      <option value="images/clothes/robe1.png">Veste 1</option>
      <option value="images/clothes/robe2.png">Veste 2</option>
    </select>

    <label>Accessori</label>
    <select onchange="setAvatar('accessories', this.value)">
      <option value="">Nessuno</option>
      <option value="images/accessories/hat1.png">Cappello</option>
    </select>
  </div>

</div>

<script>
function setAvatar(layer, src) {
  document.getElementById(layer).src = src;
}

/* ACCOUNT (demo locale) */
function register() {
  const u = username.value;
  const p = password.value;
  if (!u || !p) {
    msg.innerText = "Compila tutti i campi";
    return;
  }
  localStorage.setItem("user_" + u, p);
  msg.innerText = "Registrazione completata!";
}

function login() {
  const u = username.value;
  const p = password.value;
  const saved = localStorage.getItem("user_" + u);
  if (saved === p) {
    msg.innerText = "Login riuscito! Benvenuto a Lunaris ✨";
  } else {
    msg.innerText = "Credenziali errate";
  }
}
</script>

</body>
</html>

